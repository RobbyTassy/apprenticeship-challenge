<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Kanban app</title>
  </head>
  <body>
    <div id="app"></div>

    <script>
      var cart = [];
      var Item = function(name, price, count) {
        this.name = name
        this.price = price
        this.count = count
      };

      function addItemToCart(name, price, count) {
        for (var i in cart) { //loop through each existing (i)tem in cart
          if (cart[i].name === name) { //for each (i)tem in cart, compare to name of users input
              cart[i].count += count; //if names are identical, add users count to existing item's count
              return; //ends functions
          }
        }
        var item = new Item(name, price, count); //creates users item
        cart.push(item); //add users item to cart
      }

      // tests addItemToCart function by invoking
      addItemToCart("Apple", 1.22, 1);
      addItemToCart("Pear", 1.72, 3);
      addItemToCart("Apple", 1.22, 1);
      addItemToCart("Apple", 1.22, 3); //when users adds apples that exist already, add to existing amount

      // in running addItemToCart test, I learned that count++ would not work because user may specify that
      // he or she may want to add 4 or 5 more apples. With count++, it only ever adds one at a time. 'count += count' adds
      // the amount the user specifies with the existing amount in the cart.

      console.log(cart);
      console.log( cart[0] );
      console.log( cart[0].name );

      function removeItemFromCart(name) {
        for (var i in cart) { //loop through each existing item in the cart
          if (cart[i].name === name) { // for each item in cart, compare to name of users input
            cart[i].count -=1; //if identical, subtract one from exising count in cart
            if (cart[i].count <= 0) { //if the existing count is less or equal to 0,
              cart[i].count = 0; //reassign that count to 0.
            }
          }
        }
      }

      // tests removeItemFromCart
      console.log(cart[0].count);
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      removeItemFromCart("Apple");
      console.log(cart[0].count);

      // in running removeItemFromCart test, I learned that a user could delete so many
      // as to have a negative amount. I tested against this by reassigning any negative values back to 0.


      //removeItemFromCartAll(name) -> removes all item name

      //clearCart()

      //countCart() -> return total count

      //totalCart() -> return total cost

      //listCart() -> array of Item

      //saveCart()

      //loadCart()


    </script>

    <script src="./bundle.js"></script>
  </body>
</html>
